### Default variable file for mentoring_portal-service ###

namespace: {{ namespace }}
imagepullsecrets: {{ imagepullsecrets }}
dockerhub: {{ docker_hub_url }}


env:
  javaoptions: {{mentoring_portal_java_mem_limit|default('-Xmx4096m')}}

replicaCount: {{mentoring_portal_replicacount|default(1)}}
repository: {{ image_mentoring_portal }}
image_tag: {{ image_tag }}
resources:
  requests:
    cpu: {{mentoring_portal_cpu_req|default('100m')}}
    memory: {{mentoring_portal_mem_req|default('200Mi')}}
  limits:
    cpu: {{ mentoring_portal_cpu_limit|default('2')}}
    memory: {{mentoring_portal_mem_limit|default('1430Mi')}}
network:
  port: {{ service_mentoring_portal_port }}
  targetport: {{ service_mentoring_portal_port }}
strategy:
  type: RollingUpdate
  maxsurge: {{ mentoring_portal_maxsurge|default('25%') }}
  maxunavailable: {{ mentoring_portal_maxunavailable|default('25%') }}

environmentjs: |-
  window["env"] = {
    production: true,
    name: 'debug environment',
    staging: false,
    dev: false,
    baseUrl: '{{ mentoring_baseurl }}',
    sqliteDBName: 'mentoring.db',
    deepLinkUrl: '{{ mentoring_deeplinkurl }}',
    privacyPolicyUrl:'{{ mentoring_url }}/mentoring/privacy-policy',
    termsOfServiceUrl:'{{ mentoring_url }}/mentoring/term-of-use',
    supportEmail: "",
    recaptchaSiteKey:"{{ mentoring_recaptchasitekey }}",
    password:{
    minLength:10,
    rejectPattern:"^(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#%$&()\\-`.+,/]).{10,}$",
    errorMessage:"Password should contain at least one uppercase letter, one number and one special character.",
    },
    restictedPages: ["EDIT_PROFILE", "PROFILE_PAGE", "LOGIN_ACTIVITY_PAGE", "CHANGE_PASSWORD_PAGE", "LANGUAGE_PAGE", "HELP_VIDEOS_PAGE", "HELP_PAGE", "OTP_PAGE", "RESET_PASSWORD_PAGE", "REGISTER_PAGE", "LOGIN_PAGE", "LANDING_PAGE", "FAQ_PAGE"],
    isAuthBypassed: true,
    unauthorizedRedirectUrl: "https://{{ domain_name }}/page/home"
  };

serviceMonitor:
  enabled: true
  labels: # labels with which the prometheus choose the serviceMonitor
    app: prometheus-operator
    release: prometheus-operator

autoscaling:
  enabled: {{ mentoring_portal_autoscaling_enabled | default('false') }}
  minReplicas: {{ mentoring_portal_autoscaling_minReplicas|default(1) }}
  maxReplicas: {{ mentoring_portal_autoscaling_maxReplicas|default(2) }}
  targetCPUUtilizationPercentage: {{ mentoring_portal_autoscaling_targetCPUUtilizationPercentage|default(60) }}
  targetMemoryUtilizationPercentage: {{ mentoring_portal_autoscaling_targetMemoryUtilizationPercentage|default('') }}

